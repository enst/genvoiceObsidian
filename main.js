/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => TextPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian5 = require("obsidian");

// src/settings.ts
var import_obsidian = require("obsidian");
var DEFAULT_SETTINGS = {
  username: "placeholder",
  tagSymb: "~",
  lastEditDateStr: "updatedDate:",
  dateFormat: "YYYY-MM-DD",
  peopleFolderPath: "All/Collaborators/",
  separationLineStr: "___",
  topLevelLine: "+++",
  templateFolderPath: "All/Templates/",
  dataviewHeaderLine: "---",
  templateDetectionStr: "type: task",
  peopleStr: "people:"
};
var TextPluginSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app2, plugin) {
    super(app2, plugin);
    this.plugin = plugin;
  }
  display() {
    let { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h1", { text: "Tagging & Adding People" });
    new import_obsidian.Setting(containerEl).setName("Username").setDesc("How other users will identify you in tags, notices, etc.").addText(
      (text) => text.setPlaceholder("default: user").setValue(this.plugin.settings.username).onChange(async (input) => {
        if (input.localeCompare("") == 0) {
          this.plugin.settings.username = DEFAULT_SETTINGS.username;
        } else {
          this.plugin.settings.username = input;
        }
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("Tag indicator").setDesc("A character/string you and other users will use to tag each other.").addText(
      (text) => text.setPlaceholder("default: @").setValue(this.plugin.settings.tagSymb).onChange(async (input) => {
        if (input.localeCompare("") == 0) {
          this.plugin.settings.tagSymb = DEFAULT_SETTINGS.tagSymb;
        } else {
          this.plugin.settings.tagSymb = input;
        }
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("Name list file").setDesc("File that stores all candidates for names to be added").addText(
      (text) => text.setPlaceholder("default: collaborator").setValue(this.plugin.settings.peopleFolderPath).onChange(async (input) => {
        if (input.localeCompare("") == 0) {
          this.plugin.settings.peopleFolderPath = DEFAULT_SETTINGS.peopleFolderPath;
        } else {
          this.plugin.settings.peopleFolderPath = input;
        }
        await this.plugin.saveSettings();
      })
    );
    containerEl.createEl("h1", { text: "Inserting & Updating Edit Dates" });
    new import_obsidian.Setting(containerEl).setName("Keyword: latest edit date").addText(
      (text) => text.setPlaceholder("default: updatedDate:").setValue(this.plugin.settings.lastEditDateStr).onChange(async (input) => {
        if (input.localeCompare("") == 0) {
          this.plugin.settings.lastEditDateStr = DEFAULT_SETTINGS.lastEditDateStr;
        } else {
          this.plugin.settings.lastEditDateStr = input;
        }
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("Date format").setDesc("Format used in inserting / editing dates.").addText(
      (text) => text.setPlaceholder("default: YYYY-MM-DD").setValue(this.plugin.settings.dateFormat).onChange(async (input) => {
        if (input.localeCompare("") == 0) {
          this.plugin.settings.dateFormat = DEFAULT_SETTINGS.dateFormat;
        } else {
          this.plugin.settings.dateFormat = input;
        }
        await this.plugin.saveSettings();
      })
    );
    containerEl.createEl("h1", { text: "Inserting Header" });
    new import_obsidian.Setting(containerEl).setName("Header line").addText(
      (text) => text.setPlaceholder("default: ___").setValue(this.plugin.settings.separationLineStr).onChange(async (input) => {
        if (input.localeCompare("") == 0) {
          this.plugin.settings.separationLineStr = DEFAULT_SETTINGS.separationLineStr;
        } else {
          this.plugin.settings.separationLineStr = input;
        }
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("Top level content line").setDesc("To indicate content to always appear at the top").addText(
      (text) => text.setPlaceholder("default: +++").setValue(this.plugin.settings.topLevelLine).onChange(async (input) => {
        if (input.localeCompare("") == 0) {
          this.plugin.settings.topLevelLine = DEFAULT_SETTINGS.topLevelLine;
        } else {
          this.plugin.settings.topLevelLine = input;
        }
        await this.plugin.saveSettings();
      })
    );
  }
};

// src/assets.ts
var import_obsidian3 = require("obsidian");

// src/modals.ts
var import_obsidian2 = require("obsidian");
var TemplateSuggestionModal = class extends import_obsidian2.SuggestModal {
  constructor(editor, settings, suggestionList) {
    super(app);
    this.editor = editor;
    this.settings = settings;
    this.suggestionList = suggestionList;
  }
  getSuggestions(query) {
    return this.suggestionList.filter((item) => item.path.toLowerCase().includes(query.toLowerCase()));
  }
  renderSuggestion(item, el) {
    el.createEl("div", { text: item.path.substring(this.settings.templateFolderPath.length, item.path.length - 3) });
  }
  // 选择时触发
  async onChooseSuggestion(item, evt) {
    let content = await this.app.vault.read(item);
    this.editor.replaceRange(content, { line: 0, ch: 0 });
    setTimeout(async () => {
      let oldContent = this.editor.getValue();
      let newContent = oldContent.replace(new RegExp("{{date}}", "gi"), (0, import_obsidian2.moment)().format(this.settings.dateFormat)).replace("people: ", `people: ${this.settings.username}`).replace("createdBy: ", `createdBy: ${this.settings.username}`);
      await this.app.vault.modify(this.app.workspace.getActiveFile(), newContent);
    });
  }
};
var StatusSuggestionModal = class extends import_obsidian2.SuggestModal {
  constructor(editor, settings, suggestionList, lineNum) {
    super(app);
    this.editor = editor;
    this.settings = settings;
    this.suggestionList = suggestionList;
    this.lineNum = lineNum;
  }
  getSuggestions(query) {
    return this.suggestionList.filter((item) => item.toLowerCase().includes(query.toLowerCase())).sort();
  }
  renderSuggestion(item, el) {
    el.createEl("div", { text: item });
  }
  async onChooseSuggestion(item, evt) {
    this.editor.replaceRange(
      "status: " + item,
      { line: this.lineNum, ch: 0 },
      { line: this.lineNum, ch: this.editor.getLine(this.lineNum).length }
    );
    if (item == "archived") {
      let path = this.app.workspace.getActiveFile().path;
      let dir = path.split("/");
      if (!await this.app.vault.adapter.exists(`${dir[0]}/_Archived/${(0, import_obsidian2.moment)().format("YYYY")}`)) {
        await this.app.vault.createFolder(`${dir[0]}/_Archived/${(0, import_obsidian2.moment)().format("YYYY")}`);
      }
      this.app.fileManager.renameFile(this.app.vault.getAbstractFileByPath(path), `${dir[0]}/_Archived/${(0, import_obsidian2.moment)().format("YYYY")}/${dir[dir.length - 1]}`);
    }
  }
};
var PeopleSuggestionModal = class extends import_obsidian2.SuggestModal {
  constructor(editor, settings, suggestionList, insertLocation) {
    super(app);
    this.editor = editor;
    this.settings = settings;
    this.suggestionList = suggestionList;
    this.insertLocation = insertLocation;
  }
  getSuggestions(query) {
    return this.suggestionList.filter((item) => item.toLowerCase().includes(query.toLowerCase())).sort();
  }
  renderSuggestion(item, el) {
    el.createEl("div", { text: item });
  }
  onChooseSuggestion(item, evt) {
    this.editor.replaceRange(
      item,
      { line: this.insertLocation.line, ch: this.insertLocation.ch - 1 },
      { line: this.insertLocation.line, ch: this.insertLocation.ch }
    );
    updateLastEditDate(this.editor, this.settings);
    setTimeout(() => {
      this.editor.setCursor({
        line: this.insertLocation.line,
        ch: this.insertLocation.ch + item.length - 1
      }, 100);
    });
    if (this.editor.getLine(this.insertLocation.line).startsWith("assignedTo: ")) {
      assignedToUpdate(this.editor, this.settings, item);
    }
  }
};

// src/assets.ts
function updateLastEditDate(editor, settings) {
  let lineIndex = 0;
  while (editor.getLine(lineIndex)) {
    let line = editor.getLine(lineIndex);
    if (line.startsWith(settings.lastEditDateStr)) {
      if (editor.getCursor().line != lineIndex) {
        if (line.length > settings.lastEditDateStr.length + settings.dateFormat.length) {
          editor.replaceRange(
            (0, import_obsidian3.moment)().format(settings.dateFormat),
            { line: lineIndex, ch: settings.lastEditDateStr.length + 1 },
            { line: lineIndex, ch: settings.lastEditDateStr.length + settings.dateFormat.length + 1 }
          );
        } else {
          editor.replaceRange(
            (0, import_obsidian3.moment)().format(settings.dateFormat),
            { line: lineIndex, ch: settings.lastEditDateStr.length + 1 },
            { line: lineIndex, ch: line.length }
          );
        }
      }
      break;
    }
    lineIndex++;
  }
}
async function openPeopleSuggestionModal(app2, settings) {
  let editor = app2.workspace.activeEditor.editor;
  let location = editor.getCursor();
  const files = app2.vault.getMarkdownFiles();
  const people = [];
  for (let index = 0; index < files.length; index++) {
    if (files[index].path.startsWith(settings.peopleFolderPath)) {
      people.push(files[index].basename);
    }
  }
  editor.setCursor({ line: editor.getCursor().line - 1, ch: 0 });
  new PeopleSuggestionModal(app2.workspace.activeEditor.editor, settings, people, location).open();
}
async function openStatusSuggestionModal(app2, settings, lineNum) {
  const files = app2.vault.getMarkdownFiles().filter((file) => file.path.startsWith("All/status"));
  const statusFile = files[0];
  const statusOptions = (await app2.vault.read(statusFile)).split("\n");
  new StatusSuggestionModal(app2.workspace.activeEditor.editor, settings, statusOptions, lineNum).open();
}
function openTemplateSuggestionModal(app2, settings) {
  const files = app2.vault.getMarkdownFiles();
  const templateFiles = [];
  for (let index = 0; index < files.length; index++) {
    if (files[index].path.startsWith(settings.templateFolderPath)) {
      templateFiles.push(files[index]);
    }
  }
  new TemplateSuggestionModal(app2.workspace.activeEditor.editor, settings, templateFiles).open();
}
function assignedToUpdate(editor, settings, name) {
  let lineIndex = 0;
  while (editor.getLine(lineIndex)) {
    let line = editor.getLine(lineIndex);
    if (line.startsWith(settings.peopleStr) && !line.contains(name)) {
      editor.replaceRange(
        ",~" + name,
        { line: lineIndex, ch: editor.getLine(lineIndex).length }
      );
      break;
    }
    lineIndex++;
  }
}

// src/autotext.ts
var import_obsidian4 = require("obsidian");
function disableAutoText(app2, editor, settings) {
  var _a;
  let dataviewLineTrack = 0;
  let topLevelLineTrack = 0;
  let isTemplate = false;
  const metadata = (_a = this.app.metadataCache.getFileCache(this.app.workspace.getActiveFile())) == null ? void 0 : _a.frontmatter;
  if (metadata.hasOwnProperty("people")) {
    isTemplate = true;
  }
  if (!(editor.getLine(editor.getCursor().line) == "")) {
    return true;
  }
  for (let index = 0; index < editor.getCursor().line; index++) {
    let line = editor.getLine(index);
    if (dataviewLineTrack >= 2 && topLevelLineTrack == 1) {
      if (!(line == "")) {
        return true;
      }
    }
    if (line.startsWith(settings.topLevelLine)) {
      topLevelLineTrack++;
    }
    if (line.startsWith(settings.dataviewHeaderLine)) {
      dataviewLineTrack++;
    }
  }
  if (dataviewLineTrack <= 1 || !isTemplate || topLevelLineTrack == 0) {
    return true;
  }
  return false;
}
function generateAutoText(app2, editor, settings) {
  if (!disableAutoText(app2, editor, settings)) {
    editor.replaceRange(
      "\n\n" + settings.separationLineStr + "\n" + (0, import_obsidian4.moment)().format(settings.dateFormat) + " " + settings.username,
      { line: editor.getCursor().line - 1, ch: editor.getLine(editor.getCursor().line - 1).length }
    );
    editor.replaceRange(
      "\n",
      { line: editor.getCursor().line + 1, ch: 0 }
    );
  }
}

// main.ts
var TextPlugin = class extends import_obsidian5.Plugin {
  // obsidian 启动时激活
  async onload() {
    await this.loadSettings();
    this.addSettingTab(new TextPluginSettingTab(this.app, this));
    this.registerDomEvent(document, "keypress", (evt) => {
      if (!this.app.workspace.getActiveFile().path.startsWith(this.settings.templateFolderPath)) {
        updateLastEditDate(this.app.workspace.activeEditor.editor, this.settings);
      }
    });
    this.registerEvent(this.app.workspace.on("editor-paste", () => {
      if (!this.app.workspace.getActiveFile().path.startsWith(this.settings.templateFolderPath)) {
        updateLastEditDate(this.app.workspace.activeEditor.editor, this.settings);
      }
    }));
    const ribbonIconInsertDate = this.addRibbonIcon("calendar", "Insert Date", (evt) => {
      let editor = this.app.workspace.activeEditor.editor;
      editor.replaceRange((0, import_obsidian5.moment)().format(this.settings.dateFormat), editor.getCursor());
      updateLastEditDate(editor, this.settings);
    });
    this.registerEvent(this.app.metadataCache.on("changed", async (file, data, cache) => {
      var _a;
      let path = file.path;
      let dir = path.split("/");
      if (((_a = cache.frontmatter) == null ? void 0 : _a.status) === "archived") {
        if (!await this.app.vault.adapter.exists(`${dir[0]}/_Archived/${(0, import_obsidian5.moment)().format("YYYY")}`)) {
          await this.app.vault.createFolder(`${dir[0]}/_Archived/${(0, import_obsidian5.moment)().format("YYYY")}`);
        }
        const fileName = dir[dir.length - 1].split(".")[0] + "[" + (0, import_obsidian5.moment)().format("YYYYMMDD hhmm") + "]." + dir[dir.length - 1].split(".")[1];
        this.app.fileManager.renameFile(this.app.vault.getAbstractFileByPath(path), `${dir[0]}/_Archived/${(0, import_obsidian5.moment)().format("YYYY")}/${fileName}`);
      }
    }));
    this.registerEvent(this.app.workspace.on("editor-change", (editor) => {
      const key = editor.getLine(editor.getCursor().line).charAt(editor.getCursor().ch - 1);
      if (key.localeCompare(this.settings.tagSymb) == 0) {
        openPeopleSuggestionModal(this.app, this.settings);
      }
    }));
    this.registerDomEvent(document, "keypress", (evt) => {
      generateAutoText(this.app, this.app.workspace.activeEditor.editor, this.settings);
    });
    this.registerEvent(this.app.workspace.on("editor-paste", () => {
      generateAutoText(this.app, this.app.workspace.activeEditor.editor, this.settings);
    }));
    setTimeout(() => {
      this.registerEvent(this.app.vault.on("create", (file) => {
        setTimeout(async () => {
          let content = await this.app.vault.read(file);
          if (file.path.endsWith(".md") && content == "") {
            openTemplateSuggestionModal(this.app, this.settings);
          }
        }, 100);
      }));
    }, 100);
    this.registerDomEvent(document, "click", async (evt) => {
      var _a, _b, _c;
      const editor = (_c = (_b = (_a = this.app) == null ? void 0 : _a.workspace) == null ? void 0 : _b.activeEditor) == null ? void 0 : _c.editor;
      if (editor == null ? void 0 : editor.getLine(editor.getCursor().line).contains("status:")) {
        await openStatusSuggestionModal(this.app, this.settings, editor.getCursor().line);
        editor.setCursor({ line: editor.getCursor().line - 1, ch: 0 });
      }
    });
  }
  onunload() {
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyIsICJzcmMvc2V0dGluZ3MudHMiLCAic3JjL2Fzc2V0cy50cyIsICJzcmMvbW9kYWxzLnRzIiwgInNyYy9hdXRvdGV4dC50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgQXBwLCBFZGl0b3IsIE5vdGljZSwgUGx1Z2luLCBtb21lbnQsIFRGaWxlLCBDb21tYW5kIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHsgVGV4dFBsdWdpblNldHRpbmdUYWIsIFRleHRQbHVnaW5TZXR0aW5ncywgREVGQVVMVF9TRVRUSU5HUyB9IGZyb20gJy4vc3JjL3NldHRpbmdzJztcbmltcG9ydCB7IHVwZGF0ZUxhc3RFZGl0RGF0ZSwgb3BlblBlb3BsZVN1Z2dlc3Rpb25Nb2RhbCwgb3BlblRlbXBsYXRlU3VnZ2VzdGlvbk1vZGFsLCBvcGVuU3RhdHVzU3VnZ2VzdGlvbk1vZGFsIH0gZnJvbSAnLi9zcmMvYXNzZXRzJ1xuaW1wb3J0IHsgZ2VuZXJhdGVBdXRvVGV4dCB9IGZyb20gJy4vc3JjL2F1dG90ZXh0J1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUZXh0UGx1Z2luIGV4dGVuZHMgUGx1Z2luIHtcblx0c2V0dGluZ3M6IFRleHRQbHVnaW5TZXR0aW5ncztcblxuXHQvLyBvYnNpZGlhbiBcdTU0MkZcdTUyQThcdTY1RjZcdTZGQzBcdTZEM0JcblxuXHRhc3luYyBvbmxvYWQoKSB7XG5cblx0XHQvLyBcdTUyQTBcdThGN0Qgc2V0dGluZ3NcblxuXHRcdGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XG5cdFx0dGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBUZXh0UGx1Z2luU2V0dGluZ1RhYih0aGlzLmFwcCwgdGhpcykpO1xuXG5cdFx0XG5cblxuXHRcdC8vIFx1NTI5Rlx1ODBGRFx1RkYxQVx1NjU4N1x1Njg2M1x1ODhBQlx1NjZGNFx1NjUzOVx1NjVGNlx1RkYwQ1x1ODFFQVx1NTJBOFx1NjZGNFx1NjVCMFx1NjcwMFx1OEZEMVx1NjZGNFx1NjUzOVx1NjVFNVx1NjcxRlxuXHRcdC8vXHQtIHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVGaWxlKCkhLnBhdGggXHU4RkQ0XHU1NkRFXHU1RjUzXHU1MjREXHU2MjUzXHU1RjAwXHU2NTg3XHU2ODYzXHU3Njg0IHBhdGggKGUuZy4gQWxsL2ludGVybi90cmF2ZWxQbGFubmVyLm1kKVxuXHRcdC8vXHQtIHRoaXMuc2V0dGluZ3MgXHU0RkUxXHU2MDZGXHU1M0VGXHU0RUU1XHU1NzI4IC4vc3JjL3NldHRpbmdzLnRzIFx1NjI3RVx1NTIzMFxuXHRcdC8vXHQtIHVwZGF0ZUxhc3RFZGl0RGF0ZSgpIFx1NTNFRlx1NTcyOCAuL3NyYy9hc3NldHMudHMgXHU2MjdFXHU1MjMwXG5cdFx0XG5cdFxuXHRcdHRoaXMucmVnaXN0ZXJEb21FdmVudChkb2N1bWVudCwgJ2tleXByZXNzJywgKGV2dDogS2V5Ym9hcmRFdmVudCkgPT4geyAvLyBcdTY3MDlcdTRFRkJcdTRGNTVcdTY1MzlcdTUyQThcdTY1RjZcdTg5RTZcdTUzRDFcblx0XHRcdGlmICghdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKSEucGF0aC5zdGFydHNXaXRoKHRoaXMuc2V0dGluZ3MudGVtcGxhdGVGb2xkZXJQYXRoKSkgeyAvLyBcdTc4NkVcdTRGRERcdTVGNTNcdTUyNERcdTY1ODdcdTY4NjNcdTRFMERcdTY2MkYgdGVtcGxhdGUgXHU2NTg3XHU2ODYzXG5cdFx0XHRcdHVwZGF0ZUxhc3RFZGl0RGF0ZSh0aGlzLmFwcC53b3Jrc3BhY2UuYWN0aXZlRWRpdG9yIS5lZGl0b3IhLCB0aGlzLnNldHRpbmdzKTsgLy8gXHU2NkY0XHU2NTM5XHU2NUU1XHU2NzFGXG5cdFx0XHR9XG5cdFx0fSk7XG5cblxuXG5cblx0XHQvLyBcdTUyOUZcdTgwRkRcdUZGMUFcdTU3MjhcdTY1ODdcdTY4NjNcdTdDOThcdThEMzRcdTUxODVcdTVCQjlcdTY1RjZcdUZGMENcdTgxRUFcdTUyQThcdTY2RjRcdTY1QjBcdTY3MDBcdThGRDFcdTY2RjRcdTY1MzlcdTY1RTVcdTY3MUZcblxuXHRcdHRoaXMucmVnaXN0ZXJFdmVudCh0aGlzLmFwcC53b3Jrc3BhY2Uub24oJ2VkaXRvci1wYXN0ZScsICgpID0+IHsgLy8gXHU2NzA5XHU0RUZCXHU0RjU1XHU3Qzk4XHU4RDM0XHU2NUY2XHU4OUU2XHU1M0QxXG5cdFx0XHRpZiAoIXRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVGaWxlKCkhLnBhdGguc3RhcnRzV2l0aCh0aGlzLnNldHRpbmdzLnRlbXBsYXRlRm9sZGVyUGF0aCkpIHsgLy8gXHU3ODZFXHU0RkREXHU1RjUzXHU1MjREXHU2NTg3XHU2ODYzXHU0RTBEXHU2NjJGIHRlbXBsYXRlIFx1NjU4N1x1Njg2M1xuXHRcdFx0XHR1cGRhdGVMYXN0RWRpdERhdGUodGhpcy5hcHAud29ya3NwYWNlLmFjdGl2ZUVkaXRvciEuZWRpdG9yISwgdGhpcy5zZXR0aW5ncyk7IC8vIFx1NjZGNFx1NjUzOVx1NjVFNVx1NjcxRlxuXHRcdFx0fVxuXHRcdH0pKTtcblxuXG5cblxuXHRcdC8vIFx1NTI5Rlx1ODBGRFx1RkYxQVx1NzBCOVx1NTFGQlx1NURFNlx1NURFNVx1NTE3N1x1NjgwRlx1NTZGRVx1NjgwN1x1NzZGNFx1NjNBNVx1NjNEMlx1NTE2NVx1NEVDQVx1NTkyOVx1NjVFNVx1NjcxRlxuXHRcdC8vXHQtIHRoaXMuYWRkUmliYm9uSWNvbigpIFx1NEYxQVx1NTcyOFx1NURFNlx1NURFNVx1NTE3N1x1NjgwRlx1NjVCMFx1NTJBMFx1NTZGRVx1NjgwNyAoXHU2QjY0XHU1MjlGXHU4MEZEXHU3NTI4XHU0RTg2IGNhbGVuZGFyIFx1NTZGRVx1NjgwNylcblx0XHQvL1x0LSB0aGlzLmFwcC53b3Jrc3BhY2UuYWN0aXZlRWRpdG9yIS5lZGl0b3IhIFx1OEZENFx1NTZERVx1NUY1M1x1NTI0RFx1NjU4N1x1Njg2M1x1NEY3Rlx1NzUyOFx1NzY4NCBlZGl0b3Jcblx0XHQvL1x0LSBlZGl0b3IucmVwbGFjZVJhbmdlKGNvbnRlbnQsIGVkaXRvci5nZXRDdXJzb3IoKSkgXHU1NzI4XHU1RjUzXHU1MjREXHU5RjIwXHU2ODA3XHU0RjREXHU3RjZFXHU2M0QyXHU1MTY1IGNvbnRlbnRcblxuXHRcdGNvbnN0IHJpYmJvbkljb25JbnNlcnREYXRlID0gdGhpcy5hZGRSaWJib25JY29uKCdjYWxlbmRhcicsICdJbnNlcnQgRGF0ZScsIChldnQ6IE1vdXNlRXZlbnQpID0+IHtcblx0XHRcdGxldCBlZGl0b3IgPSB0aGlzLmFwcC53b3Jrc3BhY2UuYWN0aXZlRWRpdG9yIS5lZGl0b3IhO1xuXHRcdFx0ZWRpdG9yLnJlcGxhY2VSYW5nZShtb21lbnQoKS5mb3JtYXQodGhpcy5zZXR0aW5ncy5kYXRlRm9ybWF0KSwgZWRpdG9yLmdldEN1cnNvcigpKTsgLy8gXHU2M0QyXHU1MTY1XHU0RUNBXHU2NUU1XHU2NUU1XHU2NzFGXG5cdFx0XHR1cGRhdGVMYXN0RWRpdERhdGUoZWRpdG9yLCB0aGlzLnNldHRpbmdzKTsgLy8gXHU5ODdBXHU0RkJGXHU4MUVBXHU1MkE4XHU2NkY0XHU2NTM5XHU2NzAwXHU4RkQxXHU2NkY0XHU2NTM5XHU2NUU1XHU2NzFGXG5cdFx0fSk7XHRcblxuXHRcdC8vIFx1NTI5Rlx1ODBGRFx1RkYxQSBcdTc2RDFcdTU0MkNtZXRhZGF0YUNhY2hlXHU2NTM5XHU1M0Q4XG5cdFx0Ly8gY2FjaGUuZnJvbnRtYXR0ZXI/LnN0YXR1cyA9PT0gJ2FyY2hpdmVkJyBcblx0XHQvLyBcdTVGNTJcdTY4NjNcdTUyMzBcdTVGNTNcdTVFNzRcdTY1ODdcdTRFRjZcdTU5MzlcblxuXHRcdHRoaXMucmVnaXN0ZXJFdmVudCh0aGlzLmFwcC5tZXRhZGF0YUNhY2hlLm9uKFwiY2hhbmdlZFwiLCBhc3luYyAoZmlsZSAsIGRhdGEsIGNhY2hlKSA9PiB7IC8vIG1ldGFkYXRhQ2FjaGVcdTY3MDlcdTY1MzlcdTUyQThcdTY1RjZcdTg5RTZcdTUzRDFcblx0XHRcdC8vIGxldCBwYXRoID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKSEucGF0aDtcblx0XHRcdGxldCBwYXRoID0gZmlsZS5wYXRoXG5cdFx0XHRsZXQgZGlyOiBzdHJpbmdbXSA9IHBhdGguc3BsaXQoJy8nKTtcblx0XHRcdGlmIChjYWNoZS5mcm9udG1hdHRlcj8uc3RhdHVzID09PSAnYXJjaGl2ZWQnKSB7XG5cdFx0XHRcdGlmICghYXdhaXQgdGhpcy5hcHAudmF1bHQuYWRhcHRlci5leGlzdHMoYCR7ZGlyWzBdfS9fQXJjaGl2ZWQvJHttb21lbnQoKS5mb3JtYXQoJ1lZWVknKX1gKSApIHtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcC52YXVsdC5jcmVhdGVGb2xkZXIoYCR7ZGlyWzBdfS9fQXJjaGl2ZWQvJHttb21lbnQoKS5mb3JtYXQoJ1lZWVknKX1gKVxuXHRcdFx0XHR9XG5cdFx0XHRcdGNvbnN0IGZpbGVOYW1lID0gZGlyW2Rpci5sZW5ndGggLSAxXS5zcGxpdCgnLicpWzBdICsgJ1snICsgbW9tZW50KCkuZm9ybWF0KCdZWVlZTU1ERCBoaG1tJykgKyAnXS4nICsgZGlyW2Rpci5sZW5ndGggLSAxXS5zcGxpdCgnLicpWzFdXG5cdFx0XHRcdHRoaXMuYXBwLmZpbGVNYW5hZ2VyLnJlbmFtZUZpbGUodGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKHBhdGgpISwgYCR7ZGlyWzBdfS9fQXJjaGl2ZWQvJHttb21lbnQoKS5mb3JtYXQoJ1lZWVknKX0vJHtmaWxlTmFtZX1gKTtcblx0XHRcdH1cblx0XHRcdFxuXHRcdH0pKTtcblxuXHRcdC8vIFx1NTI5Rlx1ODBGRFx1RkYxQVx1OTAxQVx1OEZDNyBcdUZGNUUgXHU2NzY1XHU2M0QyXHU1MTY1XHU0RUJBXHU1NDBEXG5cdFx0Ly9cdC0gb3BlblBlb3BsZVN1Z2dlc3Rpb25Nb2RhbCgpIFx1NTNFRlx1NTcyOCAuL3NyYy9hc3NldHMudHMgXHU2MjdFXHU1MjMwXG5cblx0XHR0aGlzLnJlZ2lzdGVyRXZlbnQodGhpcy5hcHAud29ya3NwYWNlLm9uKCdlZGl0b3ItY2hhbmdlJywgKGVkaXRvcjogRWRpdG9yKSA9PiB7IC8vIFx1NjU4N1x1Njg2M1x1NjcwOVx1NjUzOVx1NTJBOFx1NjVGNlx1ODlFNlx1NTNEMVxuXHRcdFx0Y29uc3Qga2V5ID0gZWRpdG9yLmdldExpbmUoZWRpdG9yLmdldEN1cnNvcigpLmxpbmUpLmNoYXJBdChlZGl0b3IuZ2V0Q3Vyc29yKCkuY2ggLSAxKTsgLy8gXHU2M0QwXHU1M0Q2XHU2NzAwXHU4RkQxXHU4RjkzXHU1MTY1XHU3Njg0XHU1QjU3XHU2QkNEXG5cdFx0XHRpZiAoa2V5LmxvY2FsZUNvbXBhcmUodGhpcy5zZXR0aW5ncy50YWdTeW1iKSA9PSAwKSB7IC8vIFx1NTk4Mlx1Njc5Q1x1NjcwMFx1OEZEMVx1OEY5M1x1NTE2NVx1NjYyRiBcdUZGNUVcblx0XHRcdFx0b3BlblBlb3BsZVN1Z2dlc3Rpb25Nb2RhbCh0aGlzLmFwcCwgdGhpcy5zZXR0aW5ncyk7IC8vIFx1NEVCQVx1NTQwRFx1OTAwOVx1NjJFOVx1N0E5N1x1NTNFM1x1NUYzOVx1NTFGQVxuXHRcdFx0fSBcblx0XHR9KSk7XG5cdFx0XG5cblxuXG5cdFx0Ly8gXHU1MjlGXHU4MEZEXHVGRjFBXHU2NkY0XHU2NTM5XHU2MjE2XHU3Qzk4XHU4RDM0XHU2NUY2XHVGRjBDXHU2M0QyXHU1MTY1XHU2NkY0XHU2NTM5IGhlYWRlciBcdUZGMDhcdTUzRUFcdTU3MjggdHlwZVx1RkYxQXRhc2sgXHU2NTg3XHU2ODYzXHU3NTFGXHU2NTQ4XHVGRjA5XG5cdFx0Ly9cdGdlbmVyYXRlQXV0b1RleHQoKSBcdTUzRUZcdTU3MjggLi9zcmMvYXV0b3RleHQudHMgXHU2MjdFXHU1MjMwXG5cblx0XHR0aGlzLnJlZ2lzdGVyRG9tRXZlbnQoZG9jdW1lbnQsICdrZXlwcmVzcycsIChldnQ6IEtleWJvYXJkRXZlbnQpID0+IHsgLy8gXHU2NkY0XHU2NTM5XHU2NUY2XG5cdFx0XHRnZW5lcmF0ZUF1dG9UZXh0KHRoaXMuYXBwLCB0aGlzLmFwcC53b3Jrc3BhY2UuYWN0aXZlRWRpdG9yIS5lZGl0b3IhLCB0aGlzLnNldHRpbmdzKTtcblx0XHR9KTtcblx0XG5cdFx0dGhpcy5yZWdpc3RlckV2ZW50KHRoaXMuYXBwLndvcmtzcGFjZS5vbignZWRpdG9yLXBhc3RlJywgKCkgPT4geyAvLyBcdTdDOThcdThEMzRcdTY1RjZcblx0XHRcdGdlbmVyYXRlQXV0b1RleHQodGhpcy5hcHAsIHRoaXMuYXBwLndvcmtzcGFjZS5hY3RpdmVFZGl0b3IhLmVkaXRvciEsIHRoaXMuc2V0dGluZ3MpO1xuXHRcdH0pKTtcblxuXG5cblxuXHRcdC8vIFx1NTI5Rlx1ODBGRFx1RkYxQVx1NTIxQlx1NUVGQVx1NjU4N1x1NEVGNlx1NjVGNlx1RkYwQ1x1ODFFQVx1NTJBOFx1NjNEMlx1NTE2NXRlbXBsYXRlXG5cdFx0Ly9cdC0gc2V0VGltZW91dCBcdTc1MjhcdTY3NjVcdTk2MzJcdTZCNjIgb2JzaWRpYW4gXHU1NDJGXHU1MkE4XHU2NUY2XHU4OUU2XHU1M0QxXG5cdFx0Ly9cdC0gb3BlblRlbXBsYXRlU3VnZ2VzdGlvbk1vZGFsIFx1NTNFRlx1NTcyOCAuL3NyYy9hc3NldHMudHMgXHU2MjdFXHU1MjMwXG5cblx0XHRzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdHRoaXMucmVnaXN0ZXJFdmVudCh0aGlzLmFwcC52YXVsdC5vbignY3JlYXRlJywgKGZpbGU6IFRGaWxlKSA9PiB7IC8vIFx1NTIxQlx1NUVGQVx1NjU4N1x1Njg2M1x1NjVGNlx1ODlFNlx1NTNEMVxuXHRcdFx0XHRzZXRUaW1lb3V0KGFzeW5jICgpID0+IHtcblx0XHRcdFx0XHRsZXQgY29udGVudCA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LnJlYWQoZmlsZSk7IC8vIFx1NjNEMFx1NTNENlx1NjU4N1x1Njg2M1x1NTE4NVx1NUJCOVxuXHRcdFx0XHRcdGlmIChmaWxlLnBhdGguZW5kc1dpdGgoJy5tZCcpICYmIGNvbnRlbnQgPT0gXCJcIikgeyAvLyBcdTc4NkVcdThCQTRcdTUyMUJcdTVFRkFcdTc2ODRcdTY2MkYgbWQgXHU2NTg3XHU2ODYzXHVGRjBDXHU1RTc2XHU0RTE0XHU0RTNBXHU3QTdBXHU2NTg3XHU2ODYzXG5cdFx0XHRcdFx0XHRvcGVuVGVtcGxhdGVTdWdnZXN0aW9uTW9kYWwodGhpcy5hcHAsIHRoaXMuc2V0dGluZ3MpOyAvLyBcdTVGMzlcdTUxRkEgdGVtcGxhdGUgXHU5MDA5XHU2MkU5XHU3QTk3XHU1M0UzXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LCAxMDApO1xuXHRcdFx0fSkpO1xuXHRcdH0sIDEwMCk7XG5cblx0XG5cblxuXHRcdFxuXHRcdC8vIFx1NTI5Rlx1ODBGRFx1RkYxQVx1ODFFQVx1NTJBOFx1NUYzOVx1NTFGQSBzdGF0dXMgXHU5MDA5XHU2MkU5XHU3QTk3XHU1M0UzXG5cdFx0Ly8gLSBvcGVuU3RhdHVzU3VnZ2VzdGlvbk1vZGFsIFx1NTNFRlx1NTcyOCAuL3NyYy9hc3NldHMudHMgXHU2MjdFXHU1MjMwXG5cdFx0XG5cdFx0dGhpcy5yZWdpc3RlckRvbUV2ZW50KGRvY3VtZW50LCAnY2xpY2snLCBhc3luYyAoZXZ0OiBNb3VzZUV2ZW50KSA9PiB7IC8vIFx1NEVGQlx1NEY1NVx1NzBCOVx1NTFGQlx1NjVGNlx1ODlFNlx1NTNEMVxuXHRcdFx0XHRjb25zdCBlZGl0b3IgPSB0aGlzLmFwcD8ud29ya3NwYWNlPy5hY3RpdmVFZGl0b3I/LmVkaXRvciE7XG5cdFx0XHRcdGlmIChlZGl0b3I/LmdldExpbmUoZWRpdG9yLmdldEN1cnNvcigpLmxpbmUpLmNvbnRhaW5zKCdzdGF0dXM6JykpIHsgLy8gXHU1OTgyXHU2NzlDXHU3MEI5XHU1MUZCXHU1NzI4IHN0YXR1c1x1RkYxQVx1NTQwQ1x1NEUwMFx1ODg0Q1xuXHRcdFx0XHRhd2FpdCBvcGVuU3RhdHVzU3VnZ2VzdGlvbk1vZGFsKHRoaXMuYXBwLCB0aGlzLnNldHRpbmdzLCBlZGl0b3IuZ2V0Q3Vyc29yKCkubGluZSk7IC8vIFx1NjI1M1x1NUYwMCBzdGF0dXMgXHU5MDA5XHU2MkU5XHU3QTk3XHU1M0UzXG5cdFx0XHRcdGVkaXRvci5zZXRDdXJzb3IoeyBsaW5lOiBlZGl0b3IuZ2V0Q3Vyc29yKCkubGluZSAtIDEsIGNoOiAwIH0pO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0b251bmxvYWQoKSB7XG5cblx0fVxuXG5cdGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcblx0XHR0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9TRVRUSU5HUywgYXdhaXQgdGhpcy5sb2FkRGF0YSgpKTtcblx0fVxuXG5cdGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcblx0XHRhd2FpdCB0aGlzLnNhdmVEYXRhKHRoaXMuc2V0dGluZ3MpO1xuXHR9XG59XG5cbiIsICJpbXBvcnQgVGV4dFBsdWdpbiBmcm9tIFwiLi4vbWFpblwiO1xuaW1wb3J0IHsgQXBwLCBQbHVnaW5TZXR0aW5nVGFiLCBTZXR0aW5nIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5cbi8vIFx1OEJCRVx1N0Y2RVx1OTFDQ1x1NTNFRlx1NjUzOVx1NjU3MFx1NjM2RVxuXG5leHBvcnQgaW50ZXJmYWNlIFRleHRQbHVnaW5TZXR0aW5ncyB7XG5cdHVzZXJuYW1lOiBzdHJpbmc7IC8vIFx1NEUyQVx1NEVCQVx1NTQwRFx1NzlGMFxuXHR0YWdTeW1iOiBzdHJpbmc7IC8vIFx1ODFFQVx1NTJBOFx1NjNEMlx1NTE2NVx1NEVCQVx1NTQwRFx1NjVGNlx1NjI0MFx1NzUyOFx1NzY4NFx1NUZFQlx1NjM3N1x1OTUyRVxuXHRsYXN0RWRpdERhdGVTdHI6IHN0cmluZzsgLy8gXHU0RUUzXHU4ODY4XHU2NzAwXHU4RkQxXHU2NkY0XHU2NTM5XHU2NUU1XHU2NzFGXHU3Njg0XHU1QjU3XHU3QjI2XG5cdGRhdGVGb3JtYXQ6IHN0cmluZzsgLy8gXHU2M0QyXHU1MTY1XHU2NUU1XHU2NzFGXHU3Njg0XHU2ODNDXHU1RjBGXG5cdHBlb3BsZUZvbGRlclBhdGg6IHN0cmluZzsgLy8gXHU3NTI4XHU2NzY1XHU2M0QwXHU1M0Q2XHU2MjQwXHU2NzA5XHU0RUJBXHU1NDBEXHU3Njg0XHU2NTg3XHU0RUY2XHU1OTM5IHBhdGhcblx0c2VwYXJhdGlvbkxpbmVTdHI6IHN0cmluZzsgLy8gXHU4MUVBXHU1MkE4XHU2M0QyXHU1MTY1IGhlYWRlciBcdTY1RjZcdTc2ODQgaGVhZGVyIFx1NTIwNlx1NzU0Q1x1N0VCRlxuICAgIHRvcExldmVsTGluZTogc3RyaW5nOyAvLyB0eXBlXHVGRjFBdGFzayBcdTY1ODdcdTY4NjNcdTdGNkVcdTk4NzZcdTUxODVcdTVCQjlcdTc2ODRcdTUyMDZcdTc1NENcdTdFQkYgXHVGRjA4XHU0RUU1XHU0RTBBXHU1MTg1XHU1QkI5XHU3RjZFXHU5ODc2XHVGRjA5XG4gICAgdGVtcGxhdGVGb2xkZXJQYXRoOiBzdHJpbmc7IC8vIFx1NzUyOFx1Njc2NVx1NjNEMFx1NTNENiB0ZW1wbGF0ZSBcdTc2ODRcdTY1ODdcdTRFRjZcdTU5MzkgcGF0aFxuICAgIGRhdGF2aWV3SGVhZGVyTGluZTogc3RyaW5nO1xuICAgIHRlbXBsYXRlRGV0ZWN0aW9uU3RyOiBzdHJpbmc7IC8vIFx1NzUyOFx1Njc2NVx1NjhDMFx1NkQ0Qlx1NUY1M1x1NTI0RFx1NjU4N1x1Njg2M1x1NjYyRlx1NEUwRFx1NjYyRlx1NjMwN1x1NUI5QVx1NzY4NCB0ZW1wbGF0ZVxuICAgIHBlb3BsZVN0cjogc3RyaW5nOyAvLyBcdTRFRTNcdTg4NjhcdTY1ODdcdTY4NjNcdTc2RjhcdTUxNzNcdTRFQkFcdTU0NThcdTc2ODRcdTVCNTdcdTdCMjZcbn1cblxuLy8gXHU5RUQ4XHU4QkE0XHU4QkJFXHU3RjZFXG5cbmV4cG9ydCBjb25zdCBERUZBVUxUX1NFVFRJTkdTOiBQYXJ0aWFsPFRleHRQbHVnaW5TZXR0aW5ncz4gPSB7XG5cdHVzZXJuYW1lOiBcInBsYWNlaG9sZGVyXCIsXG5cdHRhZ1N5bWI6IFwiflwiLFxuXHRsYXN0RWRpdERhdGVTdHI6IFwidXBkYXRlZERhdGU6XCIsXG5cdGRhdGVGb3JtYXQ6IFwiWVlZWS1NTS1ERFwiLFxuXHRwZW9wbGVGb2xkZXJQYXRoOiBcIkFsbC9Db2xsYWJvcmF0b3JzL1wiLFxuXHRzZXBhcmF0aW9uTGluZVN0cjogXCJfX19cIixcbiAgICB0b3BMZXZlbExpbmU6IFwiKysrXCIsXG4gICAgdGVtcGxhdGVGb2xkZXJQYXRoOiBcIkFsbC9UZW1wbGF0ZXMvXCIsXG4gICAgZGF0YXZpZXdIZWFkZXJMaW5lOiBcIi0tLVwiLFxuICAgIHRlbXBsYXRlRGV0ZWN0aW9uU3RyOiBcInR5cGU6IHRhc2tcIixcbiAgICBwZW9wbGVTdHI6IFwicGVvcGxlOlwiLFxufTtcblxuLy8gXHU2NDJEXHU1RUZBXHU4QkJFXHU3RjZFIGludGVyZmFjZVxuXG5leHBvcnQgY2xhc3MgVGV4dFBsdWdpblNldHRpbmdUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcbiAgICBwbHVnaW46IFRleHRQbHVnaW47XG5cbiAgICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBUZXh0UGx1Z2luKSB7XG4gICAgICAgIHN1cGVyKGFwcCwgcGx1Z2luKTtcbiAgICAgICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XG4gICAgfVxuXG4gICAgZGlzcGxheSgpOiB2b2lkIHtcbiAgICAgICAgbGV0IHsgY29udGFpbmVyRWwgfSA9IHRoaXM7XG4gICAgICAgIGNvbnRhaW5lckVsLmVtcHR5KCk7XG4gICAgICAgIFxuICAgICAgICBjb250YWluZXJFbC5jcmVhdGVFbCgnaDEnLCB7IHRleHQ6ICdUYWdnaW5nICYgQWRkaW5nIFBlb3BsZScgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAgICAgICAuc2V0TmFtZSgnVXNlcm5hbWUnKVxuICAgICAgICAgICAgLnNldERlc2MoJ0hvdyBvdGhlciB1c2VycyB3aWxsIGlkZW50aWZ5IHlvdSBpbiB0YWdzLCBub3RpY2VzLCBldGMuJylcbiAgICAgICAgICAgIC5hZGRUZXh0KHRleHQgPT4gdGV4dFxuICAgICAgICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcignZGVmYXVsdDogdXNlcicpXG4gICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnVzZXJuYW1lKVxuICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAoaW5wdXQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LmxvY2FsZUNvbXBhcmUoJycpID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnVzZXJuYW1lID0gREVGQVVMVF9TRVRUSU5HUy51c2VybmFtZSE7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy51c2VybmFtZSA9IGlucHV0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApXG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgICAgICAgLnNldE5hbWUoJ1RhZyBpbmRpY2F0b3InKVxuICAgICAgICAgICAgLnNldERlc2MoJ0EgY2hhcmFjdGVyL3N0cmluZyB5b3UgYW5kIG90aGVyIHVzZXJzIHdpbGwgdXNlIHRvIHRhZyBlYWNoIG90aGVyLicpXG4gICAgICAgICAgICAuYWRkVGV4dCh0ZXh0ID0+IHRleHRcbiAgICAgICAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIoJ2RlZmF1bHQ6IEAnKVxuICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy50YWdTeW1iKVxuICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAoaW5wdXQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LmxvY2FsZUNvbXBhcmUoJycpID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnRhZ1N5bWIgPSBERUZBVUxUX1NFVFRJTkdTLnRhZ1N5bWIhO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MudGFnU3ltYiA9IGlucHV0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApXG5cbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAgICAgICAuc2V0TmFtZSgnTmFtZSBsaXN0IGZpbGUnKVxuICAgICAgICAgICAgLnNldERlc2MoJ0ZpbGUgdGhhdCBzdG9yZXMgYWxsIGNhbmRpZGF0ZXMgZm9yIG5hbWVzIHRvIGJlIGFkZGVkJylcbiAgICAgICAgICAgIC5hZGRUZXh0KHRleHQgPT4gdGV4dFxuICAgICAgICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcignZGVmYXVsdDogY29sbGFib3JhdG9yJylcbiAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MucGVvcGxlRm9sZGVyUGF0aClcbiAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKGlucHV0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5sb2NhbGVDb21wYXJlKCcnKSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5wZW9wbGVGb2xkZXJQYXRoID0gREVGQVVMVF9TRVRUSU5HUy5wZW9wbGVGb2xkZXJQYXRoITtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnBlb3BsZUZvbGRlclBhdGggPSBpbnB1dDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKVxuXG4gICAgICAgIGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdoMScsIHsgdGV4dDogJ0luc2VydGluZyAmIFVwZGF0aW5nIEVkaXQgRGF0ZXMnfSk7XG4gICAgICAgIFxuICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgICAgICAgIC5zZXROYW1lKCdLZXl3b3JkOiBsYXRlc3QgZWRpdCBkYXRlJylcbiAgICAgICAgICAgIC5hZGRUZXh0KHRleHQgPT4gdGV4dFxuICAgICAgICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcignZGVmYXVsdDogdXBkYXRlZERhdGU6JylcbiAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MubGFzdEVkaXREYXRlU3RyKVxuICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAoaW5wdXQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LmxvY2FsZUNvbXBhcmUoJycpID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmxhc3RFZGl0RGF0ZVN0ciA9IERFRkFVTFRfU0VUVElOR1MubGFzdEVkaXREYXRlU3RyITtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmxhc3RFZGl0RGF0ZVN0ciA9IGlucHV0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApXG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgICAgICAgLnNldE5hbWUoJ0RhdGUgZm9ybWF0JylcbiAgICAgICAgICAgIC5zZXREZXNjKCdGb3JtYXQgdXNlZCBpbiBpbnNlcnRpbmcgLyBlZGl0aW5nIGRhdGVzLicpXG4gICAgICAgICAgICAuYWRkVGV4dCh0ZXh0ID0+IHRleHRcbiAgICAgICAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIoJ2RlZmF1bHQ6IFlZWVktTU0tREQnKVxuICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5kYXRlRm9ybWF0KVxuICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAoaW5wdXQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LmxvY2FsZUNvbXBhcmUoJycpID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmRhdGVGb3JtYXQgPSBERUZBVUxUX1NFVFRJTkdTLmRhdGVGb3JtYXQhO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZGF0ZUZvcm1hdCA9IGlucHV0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApXG4gICAgICAgIFxuICAgICAgICBjb250YWluZXJFbC5jcmVhdGVFbCgnaDEnLCB7IHRleHQ6ICdJbnNlcnRpbmcgSGVhZGVyJ30pO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAgICAgICAuc2V0TmFtZSgnSGVhZGVyIGxpbmUnKVxuICAgICAgICAgICAgLmFkZFRleHQodGV4dCA9PiB0ZXh0XG4gICAgICAgICAgICAgICAgLnNldFBsYWNlaG9sZGVyKCdkZWZhdWx0OiBfX18nKVxuICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zZXBhcmF0aW9uTGluZVN0cilcbiAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKGlucHV0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5sb2NhbGVDb21wYXJlKCcnKSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5zZXBhcmF0aW9uTGluZVN0ciA9IERFRkFVTFRfU0VUVElOR1Muc2VwYXJhdGlvbkxpbmVTdHIhO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3Muc2VwYXJhdGlvbkxpbmVTdHIgPSBpbnB1dDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKVxuICAgICAgICBcbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAgICAgICAuc2V0TmFtZSgnVG9wIGxldmVsIGNvbnRlbnQgbGluZScpXG4gICAgICAgICAgICAuc2V0RGVzYygnVG8gaW5kaWNhdGUgY29udGVudCB0byBhbHdheXMgYXBwZWFyIGF0IHRoZSB0b3AnKVxuICAgICAgICAgICAgLmFkZFRleHQodGV4dCA9PiB0ZXh0XG4gICAgICAgICAgICAgICAgLnNldFBsYWNlaG9sZGVyKCdkZWZhdWx0OiArKysnKVxuICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy50b3BMZXZlbExpbmUpXG4gICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jIChpbnB1dCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQubG9jYWxlQ29tcGFyZSgnJykgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MudG9wTGV2ZWxMaW5lID0gREVGQVVMVF9TRVRUSU5HUy50b3BMZXZlbExpbmUhO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MudG9wTGV2ZWxMaW5lID0gaW5wdXQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIClcbiAgICB9ICAgXG59XG5cbiIsICJpbXBvcnQgeyBBcHAsIEVkaXRvciwgbW9tZW50LCBURmlsZSwgTm90aWNlIH0gZnJvbSAnb2JzaWRpYW4nXG5pbXBvcnQgeyBUZXh0UGx1Z2luU2V0dGluZ3MgfSBmcm9tICcuL3NldHRpbmdzJ1xuaW1wb3J0IHsgUGVvcGxlU3VnZ2VzdGlvbk1vZGFsLCBUZW1wbGF0ZVN1Z2dlc3Rpb25Nb2RhbCwgU3RhdHVzU3VnZ2VzdGlvbk1vZGFsIH0gZnJvbSAnLi9tb2RhbHMnXG5cbi8vIFx1ODFFQVx1NTJBOFx1NjZGNFx1NjVCMFx1NjcwMFx1OEZEMVx1NjZGNFx1NjUzOVx1NjVFNVx1NjcxRlxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlTGFzdEVkaXREYXRlKGVkaXRvcjogRWRpdG9yLCBzZXR0aW5nczogVGV4dFBsdWdpblNldHRpbmdzKSB7XG5cdGxldCBsaW5lSW5kZXggPSAwO1xuXHR3aGlsZSAoZWRpdG9yLmdldExpbmUobGluZUluZGV4KSkge1xuXHRcdGxldCBsaW5lID0gZWRpdG9yLmdldExpbmUobGluZUluZGV4KTtcblx0XHRpZiAobGluZS5zdGFydHNXaXRoKHNldHRpbmdzLmxhc3RFZGl0RGF0ZVN0cikpIHtcblx0XHRcdGlmIChlZGl0b3IuZ2V0Q3Vyc29yKCkubGluZSAhPSBsaW5lSW5kZXgpIHtcblx0XHRcdFx0aWYgKGxpbmUubGVuZ3RoID4gc2V0dGluZ3MubGFzdEVkaXREYXRlU3RyLmxlbmd0aCArIHNldHRpbmdzLmRhdGVGb3JtYXQubGVuZ3RoKSB7XG5cdFx0XHRcdFx0ZWRpdG9yLnJlcGxhY2VSYW5nZShcblx0XHRcdFx0XHRcdG1vbWVudCgpLmZvcm1hdChzZXR0aW5ncy5kYXRlRm9ybWF0KSxcblx0XHRcdFx0XHRcdHsgbGluZTogbGluZUluZGV4LCBjaDogc2V0dGluZ3MubGFzdEVkaXREYXRlU3RyLmxlbmd0aCArIDEgfSxcblx0XHRcdFx0XHRcdHsgbGluZTogbGluZUluZGV4LCBjaDogc2V0dGluZ3MubGFzdEVkaXREYXRlU3RyLmxlbmd0aCArIHNldHRpbmdzLmRhdGVGb3JtYXQubGVuZ3RoICsgMSB9XG5cdFx0XHRcdFx0KVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGVkaXRvci5yZXBsYWNlUmFuZ2UoXG5cdFx0XHRcdFx0XHRtb21lbnQoKS5mb3JtYXQoc2V0dGluZ3MuZGF0ZUZvcm1hdCksXG5cdFx0XHRcdFx0XHR7IGxpbmU6IGxpbmVJbmRleCwgY2g6IHNldHRpbmdzLmxhc3RFZGl0RGF0ZVN0ci5sZW5ndGggKyAxIH0sXG5cdFx0XHRcdFx0XHR7IGxpbmU6IGxpbmVJbmRleCwgY2g6IGxpbmUubGVuZ3RoIH1cblx0XHRcdFx0XHQpXG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGJyZWFrO1xuXHRcdH1cblx0XHRsaW5lSW5kZXggKys7XHRcblx0fVxufVxuXG4vLyBcdTRFQ0VcdTY1ODdcdTRFRjZcdTU5MzlcdTYzRDBcdTUzRDZcdTYyNDBcdTY3MDlcdTRFQkFcdTU0MERcdUZGMENcdTVFNzZcdTVGMzlcdTUxRkFcdTRFQkFcdTU0MERcdTkwMDlcdTYyRTlcdTdBOTdcdTUzRTNcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG9wZW5QZW9wbGVTdWdnZXN0aW9uTW9kYWwoYXBwOiBBcHAsIHNldHRpbmdzOiBUZXh0UGx1Z2luU2V0dGluZ3MpIHtcblx0bGV0IGVkaXRvciA9IGFwcC53b3Jrc3BhY2UuYWN0aXZlRWRpdG9yIS5lZGl0b3IhO1xuXHRsZXQgbG9jYXRpb24gPSBlZGl0b3IuZ2V0Q3Vyc29yKCk7XG5cdFxuXHRjb25zdCBmaWxlczogVEZpbGVbXSA9IGFwcC52YXVsdC5nZXRNYXJrZG93bkZpbGVzKCk7XG5cdGNvbnN0IHBlb3BsZTogc3RyaW5nW10gPSBbXTtcblx0Zm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGZpbGVzLmxlbmd0aDsgaW5kZXgrKykge1xuXHRcdGlmIChmaWxlc1tpbmRleF0ucGF0aC5zdGFydHNXaXRoKHNldHRpbmdzLnBlb3BsZUZvbGRlclBhdGgpKSB7XG5cdFx0XHRwZW9wbGUucHVzaChmaWxlc1tpbmRleF0uYmFzZW5hbWUpO1xuXHRcdH1cblx0fVxuXHRlZGl0b3Iuc2V0Q3Vyc29yKHsgbGluZTogZWRpdG9yLmdldEN1cnNvcigpLmxpbmUgLSAxLCBjaDogMCB9KVxuXHRuZXcgUGVvcGxlU3VnZ2VzdGlvbk1vZGFsKGFwcC53b3Jrc3BhY2UuYWN0aXZlRWRpdG9yIS5lZGl0b3IhLCBzZXR0aW5ncywgcGVvcGxlLCBsb2NhdGlvbikub3BlbigpO1xufVxuXG4vLyBcdTVGMzlcdTUxRkFcdTY1ODdcdTRFRjYgc3RhdHVzIFx1OTAwOVx1NjJFOVx1N0E5N1x1NTNFM1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gb3BlblN0YXR1c1N1Z2dlc3Rpb25Nb2RhbChhcHA6IEFwcCwgc2V0dGluZ3M6IFRleHRQbHVnaW5TZXR0aW5ncywgbGluZU51bTogbnVtYmVyKSB7XG5cdGNvbnN0IGZpbGVzOiBURmlsZVtdID0gYXBwLnZhdWx0LmdldE1hcmtkb3duRmlsZXMoKS5maWx0ZXIoKGZpbGUpID0+IGZpbGUucGF0aC5zdGFydHNXaXRoKCdBbGwvc3RhdHVzJykpO1xuXHRjb25zdCBzdGF0dXNGaWxlID0gZmlsZXNbMF07XG5cdGNvbnN0IHN0YXR1c09wdGlvbnM6IHN0cmluZ1tdID0gKGF3YWl0IGFwcC52YXVsdC5yZWFkKHN0YXR1c0ZpbGUpKS5zcGxpdCgnXFxuJyk7XG5cdG5ldyBTdGF0dXNTdWdnZXN0aW9uTW9kYWwoYXBwLndvcmtzcGFjZS5hY3RpdmVFZGl0b3IhLmVkaXRvciEsIHNldHRpbmdzLCBzdGF0dXNPcHRpb25zLCBsaW5lTnVtKS5vcGVuKCk7XG59XG5cbi8vIFx1NUYzOVx1NTFGQVx1NjU4N1x1NEVGNiB0ZW1wbGF0ZSBcdTkwMDlcdTYyRTlcdTdBOTdcdTUzRTNcblxuZXhwb3J0IGZ1bmN0aW9uIG9wZW5UZW1wbGF0ZVN1Z2dlc3Rpb25Nb2RhbChhcHA6IEFwcCwgc2V0dGluZ3M6IFRleHRQbHVnaW5TZXR0aW5ncykge1xuICAgIGNvbnN0IGZpbGVzOiBURmlsZVtdID0gYXBwLnZhdWx0LmdldE1hcmtkb3duRmlsZXMoKTtcbiAgICBjb25zdCB0ZW1wbGF0ZUZpbGVzOiBURmlsZVtdID0gW107XG4gICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGZpbGVzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICBpZiAoZmlsZXNbaW5kZXhdLnBhdGguc3RhcnRzV2l0aChzZXR0aW5ncy50ZW1wbGF0ZUZvbGRlclBhdGgpKSB7XG4gICAgICAgICAgICB0ZW1wbGF0ZUZpbGVzLnB1c2goZmlsZXNbaW5kZXhdKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBuZXcgVGVtcGxhdGVTdWdnZXN0aW9uTW9kYWwoYXBwLndvcmtzcGFjZS5hY3RpdmVFZGl0b3IhLmVkaXRvciEsIHNldHRpbmdzLCB0ZW1wbGF0ZUZpbGVzKS5vcGVuKCk7XG59XG5cbi8vIFx1NTcyOFx1NjNEMlx1NTE2NSB0ZW1wbGF0ZSBcdTY1RjZcdUZGMENcdTgxRUFcdTUyQThcdTY2RjRcdTY1MzlcdTY1RTVcdTY3MUZcdTRFRTVcdTUzQ0FcdTUyMUJcdTVFRkFcdTgwMDVcdTdCNDlcdTRGRTFcdTYwNkZcblxuZXhwb3J0IGZ1bmN0aW9uIGluaXRUZW1wbGF0ZVBwbCAoYXBwOiBBcHAsIGVkaXRvcjogRWRpdG9yLCBzZXR0aW5nczogVGV4dFBsdWdpblNldHRpbmdzKSB7XG5cdGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCAyMDsgaW5kZXgrKykge1xuXHRcdGlmIChlZGl0b3IuZ2V0TGluZShpbmRleCkuc3RhcnRzV2l0aCgncGVvcGxlOicpKSB7XG5cdFx0XHRlZGl0b3IucmVwbGFjZVJhbmdlKFxuXHRcdFx0XHRgfiR7c2V0dGluZ3MudXNlcm5hbWV9YCxcblx0XHRcdFx0eyBsaW5lOiBpbmRleCwgY2g6IDggfVxuXHRcdFx0KVxuXHRcdH1cblx0XHRpZiAoZWRpdG9yLmdldExpbmUoaW5kZXgpLnN0YXJ0c1dpdGgoJ2NyZWF0ZWRCeTonKSkge1xuXHRcdFx0ZWRpdG9yLnJlcGxhY2VSYW5nZShcblx0XHRcdFx0YH4ke3NldHRpbmdzLnVzZXJuYW1lfWAsXG5cdFx0XHRcdHsgbGluZTogaW5kZXgsIGNoOiAxMSB9XG5cdFx0XHQpXG5cdFx0fVxuXHR9XG59XG5cbi8vIFx1NTcyOCBhc3NpZ25lZFRvXHVGRjFBXHU1MjREXHU2M0QyXHU1MTY1XHU0RUJBXHU1NDBEXHU2NUY2XHVGRjBDXHU4MUVBXHU1MkE4XHU2NkY0XHU2NUIwIHBlb3BsZVx1RkYxQVx1NTI0RFx1NzY4NFx1NTQwRFx1NTM1NVxuXG5leHBvcnQgZnVuY3Rpb24gYXNzaWduZWRUb1VwZGF0ZShlZGl0b3I6IEVkaXRvciwgc2V0dGluZ3M6IFRleHRQbHVnaW5TZXR0aW5ncywgbmFtZTogc3RyaW5nKSB7XG5cdGxldCBsaW5lSW5kZXggPSAwO1xuXHR3aGlsZSAoZWRpdG9yLmdldExpbmUobGluZUluZGV4KSkge1xuXHRcdGxldCBsaW5lID0gZWRpdG9yLmdldExpbmUobGluZUluZGV4KVxuXHRcdGlmIChsaW5lLnN0YXJ0c1dpdGgoc2V0dGluZ3MucGVvcGxlU3RyKSAmJiAhbGluZS5jb250YWlucyhuYW1lKSkge1xuXHRcdFx0ZWRpdG9yLnJlcGxhY2VSYW5nZShcblx0XHRcdFx0Jyx+JyArIG5hbWUsXG5cdFx0XHRcdHsgbGluZTogbGluZUluZGV4LCBjaDogZWRpdG9yLmdldExpbmUobGluZUluZGV4KS5sZW5ndGggfVxuXHRcdFx0KVxuXHRcdFx0YnJlYWs7XG5cdFx0fVxuXHRcdGxpbmVJbmRleCArKztcblx0fVxuXHRcbn0iLCAiaW1wb3J0IHsgU3VnZ2VzdE1vZGFsLCBFZGl0b3IsIFRGaWxlLCBFZGl0b3JQb3NpdGlvbiwgTW9kYWwsIEJ1dHRvbkNvbXBvbmVudCwgbW9tZW50LCBOb3RpY2UgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgeyB1cGRhdGVMYXN0RWRpdERhdGUsIGluaXRUZW1wbGF0ZVBwbCwgYXNzaWduZWRUb1VwZGF0ZSB9IGZyb20gJy4vYXNzZXRzJztcbmltcG9ydCB7IFRleHRQbHVnaW5TZXR0aW5ncyB9IGZyb20gJy4vc2V0dGluZ3MnO1xuXG4vLyB0ZW1wbGF0ZSBcdTkwMDlcdTYyRTlcdTVGMzlcdTUxRkFcdTdBOTdcdTUzRTNcblxuZXhwb3J0IGNsYXNzIFRlbXBsYXRlU3VnZ2VzdGlvbk1vZGFsIGV4dGVuZHMgU3VnZ2VzdE1vZGFsPFRGaWxlPiB7XG5cblx0cHJpdmF0ZSBlZGl0b3I6IEVkaXRvcjtcblx0cHJpdmF0ZSBzZXR0aW5nczogVGV4dFBsdWdpblNldHRpbmdzO1xuXHRwcml2YXRlIHN1Z2dlc3Rpb25MaXN0OiBURmlsZVtdO1xuXG5cdGNvbnN0cnVjdG9yKGVkaXRvcjogRWRpdG9yLCBzZXR0aW5nczogVGV4dFBsdWdpblNldHRpbmdzLCBzdWdnZXN0aW9uTGlzdDogVEZpbGVbXSkge1xuXHRcdHN1cGVyKGFwcCk7XG5cdFx0dGhpcy5lZGl0b3IgPSBlZGl0b3I7XG5cdFx0dGhpcy5zZXR0aW5ncyA9IHNldHRpbmdzO1xuXHRcdHRoaXMuc3VnZ2VzdGlvbkxpc3QgPSBzdWdnZXN0aW9uTGlzdDtcblx0fVxuXG5cdGdldFN1Z2dlc3Rpb25zKHF1ZXJ5OiBzdHJpbmcpOiBURmlsZVtdIHtcblx0XHRyZXR1cm4gdGhpcy5zdWdnZXN0aW9uTGlzdC5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0ucGF0aC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHF1ZXJ5LnRvTG93ZXJDYXNlKCkpKTtcblx0fVxuXHRyZW5kZXJTdWdnZXN0aW9uKGl0ZW06IFRGaWxlLCBlbDogSFRNTEVsZW1lbnQpIHtcblx0XHRlbC5jcmVhdGVFbChcImRpdlwiLCB7IHRleHQ6IGl0ZW0ucGF0aC5zdWJzdHJpbmcodGhpcy5zZXR0aW5ncy50ZW1wbGF0ZUZvbGRlclBhdGgubGVuZ3RoLCBpdGVtLnBhdGgubGVuZ3RoIC0gMykgfSlcblx0fVxuXG5cdC8vIFx1OTAwOVx1NjJFOVx1NjVGNlx1ODlFNlx1NTNEMVxuXG5cdGFzeW5jIG9uQ2hvb3NlU3VnZ2VzdGlvbihpdGVtOiBURmlsZSwgZXZ0OiBNb3VzZUV2ZW50IHwgS2V5Ym9hcmRFdmVudCkge1xuXHRcdGxldCBjb250ZW50OiBzdHJpbmcgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5yZWFkKGl0ZW0pO1xuXHRcdHRoaXMuZWRpdG9yLnJlcGxhY2VSYW5nZShjb250ZW50LCB7IGxpbmU6IDAsIGNoOiAwIH0pO1xuXHRcdHNldFRpbWVvdXQoYXN5bmMgKCkgPT4ge1xuXHRcdFx0bGV0IG9sZENvbnRlbnQgPSB0aGlzLmVkaXRvci5nZXRWYWx1ZSgpO1xuXHRcdFx0bGV0IG5ld0NvbnRlbnQgPSBvbGRDb250ZW50LnJlcGxhY2UobmV3IFJlZ0V4cCgne3tkYXRlfX0nLCAnZ2knKSwgbW9tZW50KCkuZm9ybWF0KHRoaXMuc2V0dGluZ3MuZGF0ZUZvcm1hdCkpXG5cdFx0XHRcdC5yZXBsYWNlKCdwZW9wbGU6ICcsIGBwZW9wbGU6ICR7dGhpcy5zZXR0aW5ncy51c2VybmFtZX1gKSBcblx0XHRcdFx0LnJlcGxhY2UoJ2NyZWF0ZWRCeTogJywgYGNyZWF0ZWRCeTogJHt0aGlzLnNldHRpbmdzLnVzZXJuYW1lfWApOyBcblx0XHRcdGF3YWl0IHRoaXMuYXBwLnZhdWx0Lm1vZGlmeSh0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlRmlsZSgpISwgbmV3Q29udGVudCk7XG5cdFx0XHQvLyBpbml0VGVtcGxhdGVQcGwodGhpcy5hcHAsIHRoaXMuZWRpdG9yLCB0aGlzLnNldHRpbmdzKTtcblx0XHR9KTtcblx0fVxufVxuXG4vLyBcdTY1ODdcdTY4NjMgc3RhdHVzIFx1OTAwOVx1NjJFOVx1NUYzOVx1NTFGQVx1N0E5N1x1NTNFM1xuXG5leHBvcnQgY2xhc3MgU3RhdHVzU3VnZ2VzdGlvbk1vZGFsIGV4dGVuZHMgU3VnZ2VzdE1vZGFsPHN0cmluZz4ge1xuXHRwcml2YXRlIGVkaXRvcjogRWRpdG9yO1xuXHRwcml2YXRlIHNldHRpbmdzOiBUZXh0UGx1Z2luU2V0dGluZ3M7XG5cdHByaXZhdGUgc3VnZ2VzdGlvbkxpc3Q6IHN0cmluZ1tdXG5cdHByaXZhdGUgbGluZU51bTogbnVtYmVyO1xuXHRcblx0Y29uc3RydWN0b3IoZWRpdG9yOiBFZGl0b3IsIHNldHRpbmdzOiBUZXh0UGx1Z2luU2V0dGluZ3MsIHN1Z2dlc3Rpb25MaXN0OiBzdHJpbmdbXSwgbGluZU51bTogbnVtYmVyKSB7XG5cdFx0c3VwZXIoYXBwKTtcblx0XHR0aGlzLmVkaXRvciA9IGVkaXRvcjtcblx0XHR0aGlzLnNldHRpbmdzID0gc2V0dGluZ3M7XG5cdFx0dGhpcy5zdWdnZXN0aW9uTGlzdCA9IHN1Z2dlc3Rpb25MaXN0O1xuXHRcdHRoaXMubGluZU51bSA9IGxpbmVOdW07XG5cdH1cblxuXHRnZXRTdWdnZXN0aW9ucyhxdWVyeTogc3RyaW5nKTogc3RyaW5nW10ge1xuXHRcdHJldHVybiAodGhpcy5zdWdnZXN0aW9uTGlzdC5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0udG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhxdWVyeS50b0xvd2VyQ2FzZSgpKSkpLnNvcnQoKTtcblx0fVxuXG5cdHJlbmRlclN1Z2dlc3Rpb24oaXRlbTogc3RyaW5nLCBlbDogSFRNTEVsZW1lbnQpIHtcblx0XHRlbC5jcmVhdGVFbChcImRpdlwiLCB7IHRleHQ6IGl0ZW0gfSk7XG5cdH1cblxuXHRhc3luYyBvbkNob29zZVN1Z2dlc3Rpb24oaXRlbTogc3RyaW5nLCBldnQ6IE1vdXNlRXZlbnQgfCBLZXlib2FyZEV2ZW50KSB7XG5cdFx0dGhpcy5lZGl0b3IucmVwbGFjZVJhbmdlKFxuXHRcdFx0J3N0YXR1czogJyArIGl0ZW0sXG5cdFx0XHR7IGxpbmU6IHRoaXMubGluZU51bSwgY2g6IDAgfSxcblx0XHRcdHsgbGluZTogdGhpcy5saW5lTnVtLCBjaDogdGhpcy5lZGl0b3IuZ2V0TGluZSh0aGlzLmxpbmVOdW0pLmxlbmd0aCB9XG5cdFx0KVxuXHRcdGlmIChpdGVtID09ICdhcmNoaXZlZCcpIHtcblx0XHRcdGxldCBwYXRoID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKSEucGF0aDtcblx0XHRcdGxldCBkaXI6IHN0cmluZ1tdID0gcGF0aC5zcGxpdCgnLycpO1xuXHRcdFx0aWYgKCFhd2FpdCB0aGlzLmFwcC52YXVsdC5hZGFwdGVyLmV4aXN0cyhgJHtkaXJbMF19L19BcmNoaXZlZC8ke21vbWVudCgpLmZvcm1hdCgnWVlZWScpfWApICkge1xuXHRcdFx0XHRhd2FpdCB0aGlzLmFwcC52YXVsdC5jcmVhdGVGb2xkZXIoYCR7ZGlyWzBdfS9fQXJjaGl2ZWQvJHttb21lbnQoKS5mb3JtYXQoJ1lZWVknKX1gKVxuXHRcdFx0fVxuXHRcdFx0dGhpcy5hcHAuZmlsZU1hbmFnZXIucmVuYW1lRmlsZSh0aGlzLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgocGF0aCkhLCBgJHtkaXJbMF19L19BcmNoaXZlZC8ke21vbWVudCgpLmZvcm1hdCgnWVlZWScpfS8ke2RpcltkaXIubGVuZ3RoIC0gMV19YCk7XG5cdFx0fVxuXHR9XG59XG5cbi8vIFx1NEVCQVx1NTQwRFx1OTAwOVx1NjJFOVx1NUYzOVx1NTFGQVx1N0E5N1x1NTNFM1xuXG5leHBvcnQgY2xhc3MgUGVvcGxlU3VnZ2VzdGlvbk1vZGFsIGV4dGVuZHMgU3VnZ2VzdE1vZGFsPHN0cmluZz4ge1xuXG5cdHByaXZhdGUgZWRpdG9yOiBFZGl0b3I7XG5cdHByaXZhdGUgc2V0dGluZ3M6IFRleHRQbHVnaW5TZXR0aW5ncztcblx0cHJpdmF0ZSBzdWdnZXN0aW9uTGlzdDogc3RyaW5nW107XG5cdHByaXZhdGUgaW5zZXJ0TG9jYXRpb246IEVkaXRvclBvc2l0aW9uO1xuXG5cdGNvbnN0cnVjdG9yKGVkaXRvcjogRWRpdG9yLCBzZXR0aW5nczogVGV4dFBsdWdpblNldHRpbmdzLCBzdWdnZXN0aW9uTGlzdDogc3RyaW5nW10sIGluc2VydExvY2F0aW9uOiBFZGl0b3JQb3NpdGlvbikge1xuXHRcdHN1cGVyKGFwcCk7XG5cdFx0dGhpcy5lZGl0b3IgPSBlZGl0b3I7XG5cdFx0dGhpcy5zZXR0aW5ncyA9IHNldHRpbmdzO1xuXHRcdHRoaXMuc3VnZ2VzdGlvbkxpc3QgPSBzdWdnZXN0aW9uTGlzdDtcblx0XHR0aGlzLmluc2VydExvY2F0aW9uID0gaW5zZXJ0TG9jYXRpb247XG5cdH1cblxuXHRnZXRTdWdnZXN0aW9ucyhxdWVyeTogc3RyaW5nKTogc3RyaW5nW10ge1xuXHRcdHJldHVybiAodGhpcy5zdWdnZXN0aW9uTGlzdC5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0udG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhxdWVyeS50b0xvd2VyQ2FzZSgpKSkpLnNvcnQoKTtcblx0fVxuXHRyZW5kZXJTdWdnZXN0aW9uKGl0ZW06IHN0cmluZywgZWw6IEhUTUxFbGVtZW50KSB7XG5cdFx0ZWwuY3JlYXRlRWwoXCJkaXZcIiwgeyB0ZXh0OiBpdGVtIH0pO1xuXHR9XG5cdG9uQ2hvb3NlU3VnZ2VzdGlvbihpdGVtOiBzdHJpbmcsIGV2dDogTW91c2VFdmVudCB8IEtleWJvYXJkRXZlbnQpIHtcblx0XHR0aGlzLmVkaXRvci5yZXBsYWNlUmFuZ2UoXG5cdFx0XHRpdGVtLFxuXHRcdFx0e2xpbmU6IHRoaXMuaW5zZXJ0TG9jYXRpb24ubGluZSwgY2g6IHRoaXMuaW5zZXJ0TG9jYXRpb24uY2ggLSAxfSxcblx0XHRcdHtsaW5lOiB0aGlzLmluc2VydExvY2F0aW9uLmxpbmUsIGNoOiB0aGlzLmluc2VydExvY2F0aW9uLmNofVxuXHRcdClcblx0XHR1cGRhdGVMYXN0RWRpdERhdGUodGhpcy5lZGl0b3IsIHRoaXMuc2V0dGluZ3MpO1xuXHRcdHNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0dGhpcy5lZGl0b3Iuc2V0Q3Vyc29yKHtcblx0XHRcdFx0bGluZTogdGhpcy5pbnNlcnRMb2NhdGlvbi5saW5lLFxuXHRcdFx0XHRjaDogdGhpcy5pbnNlcnRMb2NhdGlvbi5jaCArIGl0ZW0ubGVuZ3RoIC0gMVxuXHRcdFx0fSwgMTAwKTtcblx0XHR9KVxuXHRcdGlmICh0aGlzLmVkaXRvci5nZXRMaW5lKHRoaXMuaW5zZXJ0TG9jYXRpb24ubGluZSkuc3RhcnRzV2l0aCgnYXNzaWduZWRUbzogJykpIHtcblx0XHRcdGFzc2lnbmVkVG9VcGRhdGUodGhpcy5lZGl0b3IsIHRoaXMuc2V0dGluZ3MsIGl0ZW0pO1xuXHRcdH1cblx0fVxufVxuIiwgImltcG9ydCB7IEFwcCwgRWRpdG9yLCBtb21lbnQsIE5vdGljZSB9IGZyb20gJ29ic2lkaWFuJ1xuaW1wb3J0IHsgVGV4dFBsdWdpblNldHRpbmdzIH0gZnJvbSAnLi9zZXR0aW5ncydcblxuLy8gXHU2OEMwXHU2RDRCXHU1RjUzXHU1MjREXHU2NTg3XHU2ODYzXHU2NjJGXHU1NDI2XHU3QjI2XHU1NDA4IGhlYWRlciBcdTYzRDJcdTUxNjVcdTc2ODRcdTg5ODFcdTZDNDJcblxuZnVuY3Rpb24gZGlzYWJsZUF1dG9UZXh0KGFwcDogQXBwLCBlZGl0b3I6IEVkaXRvciwgc2V0dGluZ3M6IFRleHRQbHVnaW5TZXR0aW5ncyk6IGJvb2xlYW4ge1xuICAgIGxldCBkYXRhdmlld0xpbmVUcmFjayA9IDA7XG4gICAgbGV0IHRvcExldmVsTGluZVRyYWNrID0gMDtcbiAgICBsZXQgaXNUZW1wbGF0ZSA9IGZhbHNlO1xuICAgIGNvbnN0IG1ldGFkYXRhID0gdGhpcy5hcHAubWV0YWRhdGFDYWNoZS5nZXRGaWxlQ2FjaGUodGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKSEpPy5mcm9udG1hdHRlcjtcbiAgICAvLyBpZiAodHlwZW9mIG1ldGFkYXRhLnBlb3BsZSA9PT0gJ3N0cmluZycgfHwgKCBtZXRhZGF0YS5wZW9wbGUgaW5zdGFuY2VvZiBBcnJheSAmJiBtZXRhZGF0YS5wZW9wbGUubGVuZ3RoKSApIHtcbiAgICBpZiAobWV0YWRhdGEuaGFzT3duUHJvcGVydHkoJ3Blb3BsZScpKSB7XG4gICAgICAgIGlzVGVtcGxhdGUgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAoIShlZGl0b3IuZ2V0TGluZShlZGl0b3IuZ2V0Q3Vyc29yKCkubGluZSkgPT0gXCJcIikpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBlZGl0b3IuZ2V0Q3Vyc29yKCkubGluZTsgaW5kZXgrKykge1xuICAgICAgICBsZXQgbGluZSA9IGVkaXRvci5nZXRMaW5lKGluZGV4KTtcbiAgICAgICAgaWYgKGRhdGF2aWV3TGluZVRyYWNrID49IDIgJiYgdG9wTGV2ZWxMaW5lVHJhY2sgPT0gMSkge1xuICAgICAgICAgICAgaWYgKCEobGluZSA9PSBcIlwiKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChsaW5lLnN0YXJ0c1dpdGgoc2V0dGluZ3MudG9wTGV2ZWxMaW5lKSkge1xuICAgICAgICAgICAgdG9wTGV2ZWxMaW5lVHJhY2sgKys7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxpbmUuc3RhcnRzV2l0aChzZXR0aW5ncy5kYXRhdmlld0hlYWRlckxpbmUpKSB7XG4gICAgICAgICAgICBkYXRhdmlld0xpbmVUcmFjayArKztcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiAobGluZS5zdGFydHNXaXRoKHNldHRpbmdzLnRlbXBsYXRlRGV0ZWN0aW9uU3RyKSkge1xuICAgICAgICAvLyAgICAgaXNUZW1wbGF0ZSA9IHRydWU7XG4gICAgICAgIC8vIH1cbiAgICB9XG4gICAgaWYgKGRhdGF2aWV3TGluZVRyYWNrIDw9IDEgfHwgIWlzVGVtcGxhdGUgfHwgKHRvcExldmVsTGluZVRyYWNrID09IDApKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8vIFx1ODFFQVx1NTJBOFx1NjNEMlx1NTE2NSBoZWFkZXIgXHU0RUU1XHU1M0NBXHU2NkY0XHU2NTM5XHU0RUJBXHU0RkUxXHU2MDZGXG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZUF1dG9UZXh0KGFwcDogQXBwLCBlZGl0b3I6IEVkaXRvciwgc2V0dGluZ3M6IFRleHRQbHVnaW5TZXR0aW5ncykge1xuICAgIGlmICghZGlzYWJsZUF1dG9UZXh0KGFwcCwgZWRpdG9yLCBzZXR0aW5ncykpIHtcbiAgICAgICAgZWRpdG9yLnJlcGxhY2VSYW5nZShcbiAgICAgICAgICAgICdcXG5cXG4nICsgc2V0dGluZ3Muc2VwYXJhdGlvbkxpbmVTdHIgKyAnXFxuJyArIG1vbWVudCgpLmZvcm1hdChzZXR0aW5ncy5kYXRlRm9ybWF0KSArICcgJyArIHNldHRpbmdzLnVzZXJuYW1lLFxuICAgICAgICAgICAgeyBsaW5lOiBlZGl0b3IuZ2V0Q3Vyc29yKCkubGluZSAtIDEsIGNoOiBlZGl0b3IuZ2V0TGluZShlZGl0b3IuZ2V0Q3Vyc29yKCkubGluZSAtIDEpLmxlbmd0aCB9XG4gICAgICAgIClcbiAgICAgICAgZWRpdG9yLnJlcGxhY2VSYW5nZShcbiAgICAgICAgICAgICdcXG4nLFxuICAgICAgICAgICAgeyBsaW5lOiBlZGl0b3IuZ2V0Q3Vyc29yKCkubGluZSArIDEsIGNoOiAwIH1cbiAgICAgICAgKVxuICAgIH1cbn0iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsSUFBQUEsbUJBQW9FOzs7QUNDcEUsc0JBQStDO0FBb0J4QyxJQUFNLG1CQUFnRDtBQUFBLEVBQzVELFVBQVU7QUFBQSxFQUNWLFNBQVM7QUFBQSxFQUNULGlCQUFpQjtBQUFBLEVBQ2pCLFlBQVk7QUFBQSxFQUNaLGtCQUFrQjtBQUFBLEVBQ2xCLG1CQUFtQjtBQUFBLEVBQ2hCLGNBQWM7QUFBQSxFQUNkLG9CQUFvQjtBQUFBLEVBQ3BCLG9CQUFv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
